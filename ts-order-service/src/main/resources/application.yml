# HTTP Server
server:
  port: 12031  # HTTP (Tomcat) port

spring:
  cloud:
    nacos:
      discovery:
        server-addr: ${NACOS_ADDRS:127.0.0.1:8848}
  application:
    name: ts-order-service
  datasource:
    url: jdbc:mysql://${ORDER_MYSQL_HOST:10.176.122.1}:${ORDER_MYSQL_PORT:3306}/${ORDER_MYSQL_DATABASE:ts}?useSSL=false
    username: ${ORDER_MYSQL_USER:root}
    password: ${ORDER_MYSQL_PASSWORD:Abcd1234#}
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL5Dialect

swagger:
  controllerPackage: order.controller

# New Relic Configuration
newrelic:
  config:
    license_key: ${NEW_RELIC_LICENSE_KEY:}
    app_name: ${NEW_RELIC_APP_NAME:ts-order-service}
    environment: ${NEW_RELIC_ENVIRONMENT:development}

# Management endpoints for New Relic monitoring
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always
  metrics:
    export:
      newrelic:
        enabled: true
        api-key: ${NEW_RELIC_LICENSE_KEY:}
        account-id: ${NEW_RELIC_ACCOUNT_ID:}
        uri: https://metric-api.newrelic.com/metric/v1